# 2022-04-06 面试复盘

## 技术第一轮

面：你为什么从上一家公司离职呢？

我：（略……）

面：你后面的打算是怎么样的？

我：我打算就是一直做前端。

面：前端也有很多方向，看你向往哪个方向发展？我指的是全站，或者是以图形为主。

我：我可能更倾向于全栈。

面：组件库开发了多久？

我：从 2021 年的 8 月份开始开发的，当时是做的 vue2 的版本，从 10 月份开始 vue2 版本就不在维护了，就开始做了 vue3 的版本，一致到现在。

面：你的组件库我大概看过，你是如何解决你的组件库用户自定义的程度的呢？可能你的库有时候不能满足用户，可能用户不可能去改你组件库全局的内容，因为这个是整个框架都会动，这个你是怎么解决的呢？

我：这个我还在升级中，就可以有更多的配置项来让用户更灵活的配置。

面：现在用的人多吗？

我：平均每周 npm 下载量七八百吧，感觉还挺少的。

面：你是如何理解 js 的隐式类型转换的呢？

我：隐式类型转换不太了解。

面：比如数字转换为字符串，你是怎么做的？

我：我都是使用 toString() 方法进行转换的。

面：这只不过是基本类型的，比如不同的引用类型相加是怎么转换的？

我：这个不太了解。

面：平常开发的问题，有遇到过 js 浮点运算精度不准确的情况吗？那么你是怎么解决这个问题的？

我：之前有遇到过数字过大的问题，因为 js 有一个安全整数范围嘛，叫 jsonbig 的一个包可以转换为正常现显示的范围。

面：那么你知道 js 的安全整数范围是多少吗？

我：xxxx

面：刚才我问的是浮点类型，就是小数点，你是怎么解决的？

我：这个没用遇到过爱。

面：平时项目有做过类型金额方面的项目吗？

我：没用。

面：你简单说一下深拷贝和浅拷贝之间的作用吧。

我：浅拷贝的话就是拷贝一个对象，对象里面都是数字或者字符串可以将其拷贝过来，就是赋值了一个相同的对象，因为对象之间是相互引用的，如果直接将对象赋值为另外一个名字的话，那么它们还是相互引用的，那么将对象拷贝过来之后再进行修改的话，不会影响到原对象。但是这个对象里面还有对象的话，那么里面的对象修改的话，还是会影响到对象内部的对象，深拷贝就是将里面的基本类型和引用类型全部都拷贝一遍，这个可以使用 json 拷贝，也可以使用 instanceof 方法进行判断，如果是 Object 类型的话，就再创建一个新的对象，再进行递归拷贝。

面：如果对象被冻结了可以拷贝吗？

我：也可以拷贝，只不过不能被修改。

面：平时做项目的时候有用 ts 吗？

我：我的组件库用的就是 ts。

面：.d.ts 文件会被编译成实体的 js 文件吗？

我：编译方面我不太清楚。

面：你有用过 ts 的 info（不一定对） 关键词吗？

我：好像没用。

面：平时你是怎么做类型推导的呢？

我：因为每一个函数返回什么我都是知道的。

面：如果不是固定的呢？通过传入的参数不同返回的类型也不同。

我：这个实际没有碰到过，基本都是固定的，然后返回什么我都写上就行了。

面：最后再问你一个基础问题哈，不知道你对内存结构有没有了解，反正这是一道内存结构的问题。32\*32 等于多少？

我：这不是很了解。

面：好吧

我：这应该等于多少呢？

面：1024 啊。

我：哦哦。

面：平常算法有了解吗？

我：有了解一些基础的，在力扣上刷过。

面：力扣还是相对比较简单的。有其他的吗？

我：没有了。

面：两数之和在不用加减乘数的情况下，你怎么做？

我：创建了一个对象，每次循环的时候，都将数组的索引为键元素为值，每一次循环的时候都将其添加到对象中去，然后判断如果这个对象中有这个值就代表找到了，就说以对象进行存储。

面：你这样有点奇怪，平时位运算有接触过吗？平时开发都是以 vue 为主是吧？vue2 和 vue3 都接触过吧？

我：对的。

面：平时源码有看过吗？

我：源码还没用仔细的看过，只是了解一些基本的架构和实现方法。

面：可以具体说一说你具体看过和了解过哪一块？

我：了解过响应式方面。

面：其他的呢？

我：因为最近不是有一本《vue.js 设计与实现》那本书嘛，我刚刚看到响应式这一块。

面：那么如果有一个变量 a，它既全等于 1，又全等于 2，又全等于 3，这个等式你怎么成立？

我：不太清楚了。当时在掘金上看到了，但是不太记得了。

面：vue3 还 vue2 的响应式原理有做过改变吗？可以说一下 2 和 3 相比最核心的功能吗？

我：vue2 使用的是 Object.defineProperty() 方法，vue3 使用的 proxy 方法，Object.defineProperty() 只能监视对象中的其中一个属性，一旦发生变化就会触发 get 和 set 事件，proxy 方法只要监视的对象上有任何一个属性发生改变都可以触发 get 和 set 事件。

面：还有其他的吗？

我：我知道的就说这么些。

面：如果在 vue 文件中既写了 template 又写了 render，那么会执行哪个呢？

我：我认为执行先会执行 render。

面：那么 template 还会执行吗？

我：不会了。具体怎么实现的我不太清楚。

面：那么具体 template 怎么编译成 render 不太清楚是吧？

我：是的，这涉及到模板编译嘛。

面：组件通信你都会使用什么方式呢？

我：xxx

面：provide/inject 是双向绑定的是吗？

我：是的。

面：vue2 是吗？

我：不太清楚。

面：vue3 确实是，后面为什么会把它绑定为双向绑定的呢？为什么是双向绑定的呢？

我：为什么我不太清楚。

面：像 vue 中的 key 具体的作用是什么？

我：给每一个循环让它是唯一的。

面：一般你是使用 index 还是其他的 id 之类的？

我：我都是使用 index。

面：那么 diff 算法有了解过吗？

我：diff 好像是使用了算法中的最长递增子序列，然后在 vue 的源码中我还找到了最长递增子序列的函数，就是实现的还是比较复杂的，没怎么看懂，每一个变量都是使用一个字母来代替的。

面：性能优化你都是以一个什么样的方案呢？

我：首先是将包的体积缩小，保证每一个引用的东西都是有用的，当时我的官网使用了 highlight.js，当时是引用了很多东西，包的体积就特别大，后来我就抽离出来了四个文件，提供给我的项目使用的，就减少了很多，再一个是将图片转换为在线的图片，也会减少体积。还有图片可以使用懒加载的形式。还有数据量比较多的时候使用分页。其他就说使用相同的代码实现相同的功能，还有减少网络请求。

面：base64 相对文件来说，是体积增大还是减小了？

我：减少了吧。因为全部都是字符串编码了。我认为的体积减小了，但是需要 cpu 去加载它。

面：它的好处就是体积变小吗？

我：我认为是。

面：其实是体积变大了。

我：那么它有什么好处呢？

面：image 有时候不能直接使用 file 格式，但是相对来说使用 base64 做一些图片上面的操作相对于比 file 来说更加方便一些。

我：哦哦。

面：你对你的项目是如何进行工程化管理的呢？

我：就是指的是项目构建方面吗？

面：对。

我：构建方面的话，因为我有一些合作的伙伴嘛，我会指定一些规范。比如提交的 commit 规范，是以一个指定的关键词，比如 docs、fest、fix 等，然后冒号跟着一个描述信息，还有代码的格式规范，每一次提交的时候会自动格式化所有的文件，还有就说报错不能提交。

面：其他的还有吗？整体代码结构工程。比如你是这个项目的架构师，你会注意什么呢？你在整理你的项目的架构的过程中你的想法是什么呢？

我：这个我感觉主要是提交规范上，因为我看过一些组件库的源码，比如 element-plus 或者 naive-ui 它们就是有一套规范的，都有一个描述文件嘛，包括你修改的某个组件还有某个功能还是某个 bug，都有详细的体积规范，如果你修复了某个 issues，还需要添加这个 issues 的编号。

面：平时有给一些大型的源码库提交过 pr。

我：其实给它们提交 pr，开始就是比如文档哪里写错了，修修错别字什么的，但是内容方法还是帮不到什么太大的忙。

面：你问什么选择做前端呢？

我：首先是因为我学的就是做这个的，再一个就是你做一些网页，做一些什么项目，直接一个链接给朋友，就可以立即让别人看到成果，感觉还挺好的。

面：工作的时候有遇到过什么困难吗？

我：当时遇到了跨域问题，还有就说通过 post 传参，当时在前端传递不过去，然后当时找到了一个叫 qs 的包，然后解决了传参的问题。

面：跨域是什么问题？你后面是怎么解决的？

我：当时有两者方式，在后端设置了请求头为\*，然后就可以了。

面：太危险了。

我：还有就说在 vue.config.js 中设置了服务器代理，也可以。

面：你们部署到服务器上之后还有 config.js 的文件嘛？还是直接打包好了？

我：没有了，直接打包好了。

面：平时使用框架的时候，有没有遇到过感觉框架有问题的情况，或者说你遇到问题的情况下，你的出发方向的怎么样的？我看源码还是找资料还是其他方式？

我：遇到问题可能是去网上查一查资料，查一下报错信息。然后我加了很多的前端的群，就会去群里向它们咨询咨询，可能别人会遇到这种问题，看看他们是怎么解决的。

面：平时会从源码层解决问题吗？

我：源码层倒是不会。

面：好，我这里了解就这么多，你有什么想问我的吗？

我：咱们公司主要做什么项目或者业务呢？

面：我们主要做游戏平台这一块的，主要和玩游戏的人挂钩。技术栈主要是 vue + ts 为主，后端全部都是 node。（略……）

我：平时怎么管理代码的呢？

面：我们也是使用 git，也是使用 xxx 那一套规范，我们主要有三个分支，beta、dev 和 master，平时开发就是在 dev 上开发，beta 就是一个测试版了，master 就是一个线上。我们代码的规范的严格按照 ts 的规范来的，除非万不得已的情况下，一般情况下我们是不允许有 any 存在的。

我：每一个都会由直接的类型。

面：对，要么你做类型推倒，要么你自己好好的完善。然后你在代码旁边必须要写上注释，这样别人才能看懂。

我：那这样看起来就很舒服了，既有注释，又有详细的类型。

面：是的。

我：那么您感觉我还有什么需要提升的吗？

面：挺好的啊，挺好的，工作一年到这种程度也挺好的。其实很多时候解决问题都是在源码上找，我们现在的解决方案来说，因为网上很多的解决方案都是不合理的，要么就说在官网 issues 上找，或者 [stackoverflow](https://stackoverflow.com/)，但是 stackoverflow 上也有很多人瞎扯淡其实很多时候我们还是准确自己的判断，比如这里出现了问题，和预期不太符合我们就会直接去源码上看一看，这一块是怎么写的，第一解决问题方法是从源码上寻找的。

我：stackoverflow 那个还是可以的，不过现在网上很多搜出来的结构都是 csdn 什么的。

面：stackoverflow 有些其实回答还是不错的，但是有些也是瞎扯淡，还是去官方的 issues 上找一下，或者是一些已经 open 的，那么就可以直接去源码上看看就行，大概就是这样。

我：哦哦，好的，那么都了解了。

结束。

## 技术第二轮

我：（自我介绍）

面：你的组件库实现了哪些功能。

我：相比其他的组件库，大概实现了 80%左右的组件吧。比如常用的按钮表格弹窗等都是有的。

面：你认为最复杂的是那个？

我：我认为是 message 弹出框。（后面略……）

面：message 可以用在什么场景呢？

我：就是一个提示框啊，比如登陆功能，登陆成功和失败都会有一个提示的信息，是登陆成功还是失败，那么就会在上方提示登陆成功还是登陆失败的信息提示给用户啊。

面：你刚刚说的登陆，我倒是有一个问题啊，比如让你实现一个登陆的功能，你会怎么设计？

我：登陆就是需要用户名还有密码，然后下面会有登陆按钮。首先的话是一个表单验证，如果你的用户名和密码是空的时候，或者长度或者格式不匹配，密码的长度和格式的不匹配，那么点击登陆是不能发送请求的，就会有弹出哪里不符合规范，当所有的规范都合理的情况下，你点击按钮首先按钮会触发 lading 状态进行禁用，然后会触发请求，通过请求返回的数据，会提示成功或者失败。失败的话就会有失败的提示，如果成功的话，就会有成功的提示，或者还有页面跳转。

面：你刚才说的有没有感觉漏点什么？

我：emmmm，那是漏了点什么呢？

面：你怎么看待登陆的安全问题？

我：安全问题都是后端解决的吧。

面：前端也需要去考虑，后端确实会去做。不知道你有没有实战过，或者自己做一个登陆的表单。

我：做过，都是使用的这一套方法做的。

面：那么你是怎么登陆这个人，是一个正常的人还是一个机器人呢？

我：比如用一些脚本登陆的是吗？

面：对的。

我：这个我倒是没用做过。

面：那么你之前做的那么些系统中就是有这个漏洞了，我是不是可以这么理解？

我：啊，哈哈哈。
