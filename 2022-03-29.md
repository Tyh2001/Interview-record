# 2022-03-29 面试复盘

## 第一轮 - 前端面

面：vue 的生命周期都有什么？

我：（略……）

面： vue 响应式原理是什么？

我：vue3 使用 ES6 新增的 [proxy](https://tianyuhao.cn/blog/javascript/proxy.html) 进行实现响应式的。

面：你上手的时候就是 vue3 了吗？

我：我上手的时候是 vue2，vue2 使用的是 [Object.defineProperty()](https://tianyuhao.cn/blog/javascript/methods-object.html) 做代理。

面：你现在起项目的时候都是 vue2 还是 vue3？

我：我都是使用的 vue3。

面：你直接使用的是 vue3 是吧？那你有没有碰到过 vue2 的项目把它升级成 vue3？

我：这个我没有，当时我的组件库写的时候是 vue2 的版本，后来我将它升级为 vue3。

面：那你可以你在升级过程中碰到哪些坑了呢？因为如果开始比较早的时候升级是会有一些破坏性的，你有碰到过什么坑吗？

我：我升级的时候我在去年 8 月份的时候，当时我就说把它的写法都改变了，全部都使用的 script setup 写法写的，包括那些引入什么的 ref，和声明周期都是通过引入的写法使用的。

面：还有吗？就是 2 升到 3 对你来说花的最大的精力是在那个地方？或者是那个地方，因为你的升级而导致会画出更多的时间在这上面？

我：这我倒是没用踩过什么坑，就是我感觉 vue3 的写法更舒服了。

面：那么它舒服在什么地方呢？

我：它所有的生命周期函数都是可以通过引入来使用，vue2 里面就是全部都是集成好的，这样打包的话就会体积很小。使用 setup 语法糖的话，写起来会很简洁。

面：你原来的组建项目就是说是改写了一次？那么本来打包和后面打包，大概相差多少数量值的？打完包的体积

我：打包还在做，还没有做完。

面：常用的组件通信有哪几种？

我：父子组件通信的方式就是，父组件给子组件传递可以通过属性传递，通过给子组件绑定属性传递；自组建给父组件传递通过 emit 方法传递；兄弟组件可以使用 vue 内置的 provide/inject 那个依赖注入的方法，不管组件嵌套的有多深，只要父组件注入一个依赖，那么不管子组件嵌套的有多深，都可以访问；还有可以通过 vuex 来进行组件通信；vue2 还有新建 bus 的方法可以实现通信，但是 vue3 没用这种方式，它需要下载一个特殊的依赖再进行使用，来实现类似的方法。

面：这个特殊的依赖是什么呢？

我：这个我了解过，没用真正用过。

- 注：这两个依赖是 [mitt](https://github.com/developit/mitt) 和 [tiny-emitter](https://github.com/scottcorgan/tiny-emitter)

面：没有用过是吧？那比如说 vue 生态中你常用的还有哪些东西呢？

我：还有 vite。

面：那你能稍微讲一讲 vite 的一些对你来说提效的地方有哪些？

我：它主要是启动快，打包快。

面：那我在考一个常见的网络题吧，讲一下三次握手和四次挥手

我：这个我不太能讲出来。

面：三次握手可以讲吗？

我：就是客户端先向服务器发送一个请求，然后服务器接收到这个请求，那么服务器接受到这个请求之后呢，客户端不知道服务区到底有没有收到这个请求，然后服务区再给客户端发送一个响应，然后服务端收到这个响应之后再告诉服务区，它们之间像对话一些，对话几次之后，就确定了连接没用问题了。

面：更安全的 https 和 http 有什么区别呢？

我：我只知道安全的问题。

面：那么你只知道它是什么样的协议，然后或者是怎么使用的是吗？

我：我知道怎么配置 https 协议，因为我也由域名嘛，在没用配置 ssl 证书的时候，就说 http 协议，配置了证书之后在服务器上部署，就说 https 了

面：你现在的服务区上主要部署的是组件库是吧？

我：组件库还有博客之类的。

面：v-if 和 v-show 有什么区别？

我：v-show 是在标签上作用了 display: none 或者 display: block 的属性，它适合经常性的现实和隐藏操作。v-if 是如果 v-if="false" 的时候，那么标签直接在页面中不会渲染，它擅长哪些渲染一次或者很少几次的那种。v-show 适合经常会弹出的东西。

面：从性能角度来看，它适合怎样的组件，通常什么样的组件来使用它们？

我：类似与提示框组件，就比较适合 v-show，比如登陆的功能，在没有登陆和登陆之后的显现是不一样的，这样的内容就使用 v-if。

面：那你讲一下 keep-alive 吧，keep-alive 是什么东西，主要用在什么场景？

我：它是可以做缓存的，比如说有选项卡，选项卡下面有列表当你切换了选项卡之后，你再切换会原来的选项卡，它可能就又回到初始的位置了，使用了时候，它就可以还停留在之前的位置上。

面：然后它在切换的时候，有哪两个生命周期的钩子函数你知道吗？

我：这个我不太清楚。

面：vuex 你之前用过是吧？现在主要是 pinia，你可以讲一些 vuex 的工作原理吗？

我：会有数据定义在 state 中，然后在所有组件中都可以获取到了。

面：vuex 中几个的核心的关键字有什么？都是做什么的呢，然后在组件中都是怎么调用它的呢？

我：有 state，Mutation。state 主要是定义数据的，Mutation 是用来修改它的数据，还有些方法是可以异步获取数据的。

面：哪些方法是可以异步获取数据的呢？

我：那个我忘记怎么读了。

面：你熟悉后端的开发逻辑，那么后端你主要是做了什么呀？

我：当时投票项目的后端是我做的，当时主要是数据的增删改查还有数据库什么的。

面：有几张表呀？

我：有一个用户表，还有一个投票的信息表。

面：http 常用状态码都是什么意思呢？

我：状态码我定义了 201 是请求成功，404 就是资源不存在，500 是服务器的错误，301 重定向。

面：你的重定向的怎么做的呀？因为重定向前端也可以重定向，后端也可以重定向，那么你的重定向都是怎么做的呢？

我：重定向就是一个用户只能投票一次，如果他输入这个 id 之后，这个后端检测这个 id 一次存在了，那么就返回重定向。

面：你是直接返回一个的地址是吗？

我：如果用户没用投票，就可以进入投票页面，如果已经投票了，就直接进入结构页面。

面：你一开始就使用 TypeScript 了是吗？

我：TypeScript 是最近开始做的。

面：那么你感觉 TypeScript 给你带来的收益是什么呢？

我：我感觉它的代码更健壮了，因为有很多类型的约束。

面：TypeScript 有哪些基础类型？

我：string 字符串，number 数字，object 对象，array 数组，null，undefined，any，void。

面：还有吗？我觉得还有一个挺常用的，枚举的那个，enum。

我：哦哦。

面：如果想在一个项目中编译 TypeScript 的命令语句是什么？

我：当时我运行一个 ts 文件都是使用 node-ts.xxx 来运行测试的。

面：TypeScript 当中的模块主要用的是什么？

我：这个不了解。

面：各位知道在 vue 中有一个叫 Mixins 的东西吗？但是如果 mixins 使用的也别多，然后这个项目还不是你一个人的时候，大家可能就会乱用这个东西，可能就会泛滥，这个你知道怎么解决吗？

我：我不太了解。

- [Mixins 文档在这里](https://v3.cn.vuejs.org/guide/mixins.html#mixin)，这我是真一点不知道。。。。

面：你的组件库是在这一家公司的经历吗？

我：这是我自己做的。

面：那么你在 xx(我之前的公司名)主要是做什么呀？

我：主要一些 h5 的页面，还有一些前端的项目开发。

面：全是 pc 端吗？是他们的主站还后台吗？

我：全是 pc，主要是一些外包的项目，主要是和花旗银行合作的。

面：你平时的工作和学习是怎么安排的呢？

我：下了班之后基本上晚上就是看看书加写写自己的项目。

面：你平时有写博客的习惯吗？

我：有的。

面：感觉用是都用过，很扎实还差一点点。

我：呵呵。

面：ssr 有了解过吗？

我：没怎么了解过。

面：路由有了解吧？像 hash 路由和 history 路由了解吗？

我：这只是了解一点。在 vue 中启动地址会带#，我只知道是否带#的区别。

面：那 history 呢？

我：不太了解。

面：vue 本身使用的是什么设计模式？是观察者模式还是发布订阅模式呢？

我：这个我自己学习时候看视频说过，vue 主要是观察者模式。

面：这两种模式的区别有了解吗？

我：不了解。

面：声明周期里的 computed 和 watch 有什么区别呢？

我：watch 是监视一个数据

面：可以监视哪一个数据？

我：可以随意监视啊，可以监视数字字符串……

面：我的意思是，可以监视的是 data 里的呢？还是 props

我：主要监视 data。

面：其实 props 也可以监视，还有一个是哪一个是有缓存性的？

- 注：这里我就很无语，我居然说主要监视 data。。。。

我：computed 是有缓存性的。

面：你现在使用的 vue 全家桶都是用的哪些吗？

我：vite、vue-router、vuex。vue2 中还有 vue-cli、vue-loader

结束。

## 第二轮 - 技术面

面：你之前花旗银行的项目大概做的多久？

我：它们每个项目都不大，但是比较多。

面：就是比较杂的东西是吧？

我：对。

面：我看有一个部署上线测试，那么部署的实现过程大概的怎么样的？你们用了一些自动化的工具吗？

我：这个没用用到的，部署是使用 winScp 的软件来部署的。

面：那么你下一次上传部署是对之前的文件做一个替换吗？

我：是的。

面：那么上传会停服吗？

我：不会的。

面：这个组件库是做了有半年时间？

我：对。

面：你现在说要筹备开发新的组件库是什么意思呢？

我：当时做这个组件库的时候，并没有想做这么完善的，当时就是我在网上看到一个做组件库的视频，然后就自己尝试做了三四个，然后发现自己做的还不错，就自己慢慢做的越来越多了，之后就发布了，但是我感觉我的组件库做的没有什么特色，就行重新找一下特色的东西重新构建一个。

面：你这块说的特色是指的是设计还是实现呢？

我：都有吧。

面：我看你的网站性能评分，80~98 分，这个是怎么实现的？

我：主要是开始将包的体积进行优化，开始的时候大概是 1.5MB，然后优化到了 800kb，这次优化主要是减少依赖的体积，当时很多的代码段使用的是 highlight.js 的插件，那个包体积特别大，然后我就将需要的抽离出来了，实现按需引入。第二次通过将图片转换成在线的图片了，现在优化到了 500kb 左右。

面：你在做组件的时候，你认为最复杂的组件是什么？

我：最复杂的是 message 弹窗组件。

面：这个是在 pc 上弹窗是吧？

我：在 pc 和手机端都可以使用，当然我这个组件是 pc 端的。

面：你认为这块复杂的点是在哪里？

我：因为弹窗是通过引入之后，点击按钮，然后调用组件库内部的一个函数，然后实现弹窗，这种的不像是使用父子组件通信使用 props 传参，它这种需要用到的是 vue3 内置的 h 函数和 render 函数，主要是考 js 来实现的，然后再将传递的参数渲染到组件里面去。

面：弹窗有个管理过程吗？比如说连续弹出 10 次或者 20 次，的先后顺序？

我：这个没有的。

面：如果我要给弹出的信息，要是不是纯文本，比如说弹出的是有图片的话，这个可以吗？

我：现在只能是纯文本。

面：那么纯文本的话，有没用字数的限制？最多传递多少个？

我：这个我做的限制是如果过长就自动换行。

面：它是宽高是会随着内容自动撑开的是吧？那么它能定位弹出左上角左下角之类的功能吗？

我：message 弹出不能，Notification 的提示框是可以的。

面：那么你说的这个和 message 提示框是一样的吗？

我：它俩是一样的，用的是一个函数的文件。

面：逻辑是一样的，只是最终弹出的效果是不一样的是吧？

我：是的。

面：那么它其实是两个组件是吧？

我：是的。

面：你认为这块复杂，是因为使用了 vue3 的 h 函数和 render 函数吗？

我：嗯嗯。

面：除了这个组件，还有哪些组件比较麻烦的？

我：基本上静态的组件，都是比较简单的，都是通过传参实现的，像这种提示框，还有确认框，弹出类的组件都是比较复杂的。

面：组件的层级管理是怎么做的？

我：层级管理是弹出组件有层级管理，比如一个按钮点击了弹出第一层，那么弹出层里面又有一个按钮，那么点击之后又可以弹出第二层，这样是可以的。

面：那么第二层和第一次的区别是，你会去改变层级值还是通过其它方式改变的？

我：通过层级值。

面：那么层级值每次都是加一吗？

我：这个我没用具体做过加一什么的，但是我测试是没有问题的。

面：也就是说它是靠浏览器自己的能力去做的一件事是吧？那么你这个项目在做的工程中有没用其他同学参与进来啊？

我：有的。

面：这两个小伙伴也都是你们公司的吗？

我：不是的，都是在开原社区里认识的。

面：那么你们三个都主要是怎么分工的？

我：我是主要做项目的组件的开发，还有一个是配置的开发，他配置了 eslint，还有提交规范，代码格式化规范，另一个他主要是给我们一些技术支持，他会指出我们做的哪里有问题之类的，或者一些新技术之类的。

面：他更多扮演的是一个帮助你们测试还有提出一些建议，但是真正动手做的主要你和另一个同学是吧？

我：是的。

面：那么你们三个会开会吗？对组件做一些评审或者一些规范之类的？

我：规划的话就是通过聊天的方式去说哪里有问题，然后会在项目中新建一个目前存在的问题的文件，会按按照那个问题，以后会做什么优化，现在哪个组件有什么 bug，会列出来，然后按照清单进行优化。

面：那么你做组件到现在遇到的最棘手的一些 bug 有什么呢？

我：组件倒是没用什么，但是在升级项目的时候还是有一些问题的，当时我上传的项目就是一个 vue3 的项目，然后我在社区里接触了 monorepo 的开发方式，当时从 vue3 的项目进行升级的时候，是遇到很多问题的。

面：这块比较繁琐，是因为升级项目中功能和旧版本的兼容问题和改造问题是吧？

我：这倒不是，主要是当时我们名不了解这种的项目的构建和使用，后来我们在网上边学习边升级。

面：那么现在的组件管理方式大概是怎么管理的？本地开发，到官网，到发布？还是靠手动打包上传的？

我：打包都是我手动上传的。

面：那么如果你上传的包和你合作的小伙伴的打包冲突了怎么办？

我：现在发包都是我来发。

面：就是你把发包的权利控制在自己手里是吧？

我：是的。

面：在花旗这边的时候，你们前端是多少人？

我：两个人。

面：他也是刚刚毕业吗？

我：他工作一年了。

面：那么你这次走，他有没有也有像离职的想法？

我：他并没有。

面：他还想继续干下去是吗？

我：对。

面：你们平时项目开发的话，这个需求产生到上线的流程是怎么样的？

我：之前在公司的流程还比较简单的，我们的 AE，她接到花旗银行的项目之后，会有一个文档，告诉我怎么做，都有什么功能，然后设计会开始做图，我就按照设计做出来，写出功能，写完之后先给 AE 进行测试。

面：这个 AE 扮演的角色就像是一个项目经历+测试是吧？那么这个文档是她写的吗？

我：文档是花旗那边给的。

面：如果有什么功能需要确认的话，也是她进去确认是吧？

我：是的。

面：她将是一个需求的接口人，加上一个项目的测试和验收是吧？那么你和后端都是怎么合作的呢？

我：后端就是另一个小伙伴，他其实更精通于后端，他也是前端也可以做，我刚到的时候，他教了我一些后端，然后花旗银行的后端也是我写的，有些更复杂的就是他来写。

面：你们后端使用的语言是什么？

我：PHP。

面：那么你们团队的 50 多个人，剩下的人都是干什么的？

我：因为主要是做电商的，分成很多模块，有做电商直播的，还有开发的，还有做广告的，还有做设计的。

面：那么你们不同的业务线和不同的产品线直接是互相独立的是吧？

我：也部署，有些广告那边会接到一些 h5 的页面，然后我们帮忙做一下。

面：但是这家工作本质上并不是花旗银行自己的子公司，只是接到花旗的需求去做实现的

我：对的。

面：那些电商的项目是和花旗没用关系的是吧？

我：是的。

面：业务属于是有的是自己的业务，有的是你们公司业务。那么最盈利的业务是什么呢？

我：广告。

面：这个项目是长期可以接到是吧？

我：是的是的。

面：这个投票项目面向的员工是谁呢？

我：是花旗的内部员工。

面：就是它们内部的投票系统，然后给到你们公司来做是吧？

我：是的。

面：那么一个投票为什么要开发这么久啊？投票的复杂点是在哪里啊？

我：它并不是很复杂，主要是改动的次数比较多。经常会有改版和小更新之类的。

面：了解了也就是说他们是甲方，你们是乙方，很多项目的周期变得很长，就是大部分的时机都是做改动了是吧？那么如果说他不是一个外包项目的话，那么自己内部做是很快的吧？

我：是的。

面：这就是做外包项目比较难做的点。那么你平时学前端的话都是通过什么渠道啊？

我：看书、看文档、看视频。

面：你平时做代码调试的时候的时间多吗？比如调试到一两点的时候？

我：倒是没有。

面：毕业之后做前端，当时是一个什么样的契机做的前端啊？

我：我学的就是这个专业。

面：你们学校教这个专业吗？

我：对，我们学校教的就是这个专业。

面：教前端我倒是很少听说。主要就是教前端是吧？

我：对，就是教前端的。

面：这倒是有点意思，很少有见到学校就是教这专业的。那么你们当时同一批的学生多吗？

我：40 个人。

面：那么它这个还可以，我感觉能有学校教这个还是很不错的。那么接下来我叫后端的人过来和你聊一聊。

我：好。

结束。

## 第三轮 - 后端面

面：你在上一家公司的收获有什么？

我：也了解一些后端和服务器的知识，了解了不少前端的新生事物。

面：有没有让你在项目中印象深刻的事情？

我：有时候第一次自己做出了全栈的东西还有数据打通还是挺高兴的。

面：你们和后端的协作方式是怎样的啊？

我：前端和后端是分离的嘛，然后通过在线的接口进行访问。

面：协作的过程是怎么样的？

面：会给你提供 mock 接口吗？

面：你们现在的协作方式有没有可以优化的地方？

面：怎么样可以一个高效的协作？就是让你作为前端可以更爽、更顺利一些？

面：你为什么会离开那边呢？

我：因为前端的项目并不是很多，也比较简单，所以想要做一些比较有挑战性的项目。

面：你怎么定义有挑战的项目？有些的功能多，有些是性能方面，有些是体验方面。

我：功能多的。

面：我们做的并不是一个很庞大的项目，功能没用那么多，我们主要体现在性能方面和交互上面，要求非常非常多，可能在功能模块上要求并没有那么多，其实也是比较简单的，就是这样子，那么技术方面他对你也是比较认可的。那么你未来要是可以过来的话，接手的肯定就是这种项目，你可以吗？

我：我可以的。

面：你为什么认识功能多就是有挑战呢，那种就是日复一日的代码啊，并没用实际技术上的提上啊。

我：啊，哈哈哈 是的。

面：其实真正的提升是在交互上和性能上。

我：是的是的。

面：你在那边的薪资是怎么样的？

我：这个不太方便透露哦。

面：那么你的期望薪资是多少？

我：期望 14K。

面：如果要是可以，你什么时候可以入职？

我：最快要下周一。

面：因为那边还没用办理离职是吗？

我：已经办理离职了。

面：会有自己的事情是吧？

我：是的。

面：如果让你去维护一个项目，这个项目可能会由很大的坑在里面，你会去怎么做？

我：是报错类型的吗？

面：可能在性能，可能在语法，也可能是语法之类的。

我：就说像性能优化的更好？

面：对对对。

我：有句话叫：用最少的代码实现一样的效果。

面：如果这个项目你会选择怎么去优化？

我：我会选择重写。

面：一般都是选择重写，都是放弃治疗，哈哈哈哈。

我：哈哈哈。

面：我没用别的什么问题。要不你这样，你先回去，我这边会和人事那边沟通一下，如果没有问题，他应该会今天或者明天给你通知，好吧？

我：好。

结束
